{% extends 'Account/home_base.html' %}
{% load static %}
{%block title%}
Settings
{%endblock title%}
{% block content %}
{% load crispy_forms_tags %}

    {% if user.is_authenticated %}
        <a href="javascript:history.go(-1)" class="btn btn-outline-secondary">Back</a>
        <div class="container-xl px-4 mt-4">
            <hr class="mt-0 mb-4">
            <div class="row">
                <div class="col-xl-4">
                    <!-- Profile picture card-->
                    <div class="card mb-4 mb-xl-0">
                        <div class="card-header text-center">Profile Picture</div>
                        <div class="card-body text-center">
                            <!-- Profile picture image-->
                            <img style="width: 245px; height: 247px;"  alt="Image description"
                                 src="{{ user.account.image.url }}"/>
                            <h3>{{ user.account.name }}</h3>
                            <a href="{% url 'change_password' %}">Change Password</a>
                        </div>
                    </div>
                </div>
                <div class="col-xl-8">
                    <!-- Account details card-->
                    <div class="card mb-4">
                        <div class="card-header">Settings</div>
                        <div class="card-body">
                            <form method="POST" enctype="multipart/form-data">
                                {% csrf_token %}
                                {{ u_form|crispy }}
                                <button class="btn btn-primary"  type="submit">Save changes</button>
                            </form>
                            <br>
                            <a class="btn btn-secondary" href="{% url 'home' %}">Back</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% else %}
        <small class="text-muted"><a href="{% url 'login' %}" class="ml-2">Login</a></small>
    {% endif %}
{% endblock content %}